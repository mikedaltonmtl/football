///////////////////////////////////////////////////////////////////////
// Packages
///////////////////////////////////////////////////////////////////////

// npm i express morgan nodemon pg dotenv

const express = require('express');
const morgan = require('morgan');
require('dotenv').config({ path: './.env' });


///////////////////////////////////////////////////////////////////////
// Helpers
///////////////////////////////////////////////////////////////////////

// const { getAllVillains, getVillain } = require('./data/villain-queries');

///////////////////////////////////////////////////////////////////////
// Express / Config
///////////////////////////////////////////////////////////////////////

const PORT = process.env.PORT;
const app = express();

///////////////////////////////////////////////////////////////////////
// Middleware
///////////////////////////////////////////////////////////////////////

app.set('view engine', 'ejs');
// app.set('trust proxy', 1);
app.use(morgan('dev'));

///////////////////////////////////////////////////////////////////////
// Listener
///////////////////////////////////////////////////////////////////////

app.listen(PORT, () => {
    console.log(`Express app listening on: http://localhost:${PORT}`);
});

///////////////////////////////////////////////////////////////////////
// Routes
///////////////////////////////////////////////////////////////////////

app.get('/', (req, res) => {
  // res.end('Hello, World!');
  res.render("index");
});
